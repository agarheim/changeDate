# changeDate

1. В Retail CRM добавить пользовательское поле с названием "смена статуса заказа" , с типом флажок. Добавить триггер который отлавливает события изменения пользовательского поля "смена статуса заказа" и что "флажок" установлен, действие триггера - смена статуса заказа на выполнен и снимает флажок с польз. поля.
Проверка :
Критерий проверки: в заказе выставляем галочку в поле и после сохранения заказа статус заказа должен сменится на указаный
Решение: 

Добавить :
                1. Зайти в Администрирование-настройки-пользовательские                   поля:
	- ввести название (отображаемое в заказе)
	- Символьный код (для работы с полем из триггера)
	- тип поля
	- задать доступность
	- задать в каком из разделов заказа отображать.
2. Зайти в Администрирование-настройки-коммуникации -триггеры:
	-Название
	- выбрать тип события на которое страбатывает триггер
	- условие (задать условие срабатывания) changeSet.hasChangedField("custom_status_order_change") and and changeSet.getNewValue("custom_status_order_change")==true
	- задать действие если сработал триггер
Скрин в корне репозитария с самим триггером.

	2. Написать скрипт, который будет изменять дату заказа. 
В crm добавить пользовательское поле "изменение даты создания заказа на дней", в котором будет хранится количество дней, на которое нужно уменьшить дату или увеличить (+ Или -).
По api получить данные по конкретному заказу ( тут можно id заказа прямо в коде зашить наглухо) и изменить дату заказа на количество дней, полученных из пользовательского поля. По api обновить заказ в crm
Проверка: 
Критерии проверки: изменяем пользовательское поле. В ручном режиме запускаем скрипт и проверяем результат в crm

ответ: 
скрипт котрый получает дату создания заказа и пользовательское поле с кол-вом дней на которе необходимо изменить дату и 
второй скрипт в который передается текущая дата, число на которе необходимо изменить и действие (+/-)
результат выводит на экран.
